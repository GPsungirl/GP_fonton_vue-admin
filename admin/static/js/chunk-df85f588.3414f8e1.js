(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df85f588"],{"0b84":function(e,t,r){"use strict";var n=r("4074"),a=r.n(n);a.a},"10c0":function(e,t,r){},4074:function(e,t,r){},4127:function(e,t,r){"use strict";var n=r("d233"),a=r("b313"),o=Object.prototype.hasOwnProperty,i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,s(t)?t:[t])},u=Date.prototype.toISOString,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,formatter:a.formatters[a["default"]],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,r,a,o,i,c,u,p,f,m,g,h,v){var y=t;if("function"===typeof u?y=u(r,y):y instanceof Date?y=m(y):"comma"===a&&s(y)&&(y=y.join(",")),null===y){if(o)return c&&!h?c(r,d.encoder,v):r;y=""}if("string"===typeof y||"number"===typeof y||"boolean"===typeof y||n.isBuffer(y)){if(c){var b=h?r:c(r,d.encoder,v);return[g(b)+"="+g(c(y,d.encoder,v))]}return[g(r)+"="+g(String(y))]}var _,w=[];if("undefined"===typeof y)return w;if(s(u))_=u;else{var O=Object.keys(y);_=p?O.sort(p):O}for(var k=0;k<_.length;++k){var j=_[k];i&&null===y[j]||(s(y)?l(w,e(y[j],"function"===typeof a?a(r,j):r,a,o,i,c,u,p,f,m,g,h,v)):l(w,e(y[j],r+(f?"."+j:"["+j+"]"),a,o,i,c,u,p,f,m,g,h,v)))}return w},f=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=a["default"];if("undefined"!==typeof e.format){if(!o.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=a.formatters[r],i=d.filter;return("function"===typeof e.filter||s(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:"undefined"===typeof e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:"undefined"===typeof e.delimiter?d.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:d.encode,encoder:"function"===typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:i,formatter:n,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}};e.exports=function(e,t){var r,n,a=e,o=f(t);"function"===typeof o.filter?(n=o.filter,a=n("",a)):s(o.filter)&&(n=o.filter,r=n);var c,u=[];if("object"!==typeof a||null===a)return"";c=t&&t.arrayFormat in i?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var d=i[c];r||(r=Object.keys(a)),o.sort&&r.sort(o.sort);for(var m=0;m<r.length;++m){var g=r[m];o.skipNulls&&null===a[g]||l(u,p(a[g],g,d,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.formatter,o.encodeValuesOnly,o.charset))}var h=u.join(o.delimiter),v=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),h.length>0?v+h:""}},4328:function(e,t,r){"use strict";var n=r("4127"),a=r("9e6a"),o=r("b313");e.exports={formats:o,parse:a,stringify:n}},7884:function(e,t,r){"use strict";var n=r("10c0"),a=r.n(n);a.a},"9e6a":function(e,t,r){"use strict";var n=r("d233"),a=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},i=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},s="utf8=%26%2310003%3B",c="utf8=%E2%9C%93",l=function(e,t){var r,l={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,p=u.split(t.delimiter,d),f=-1,m=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&(p[r]===c?m="utf-8":p[r]===s&&(m="iso-8859-1"),f=r,r=p.length);for(r=0;r<p.length;++r)if(r!==f){var g,h,v=p[r],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(g=t.decoder(v,o.decoder,m),h=t.strictNullHandling?null:""):(g=t.decoder(v.slice(0,b),o.decoder,m),h=t.decoder(v.slice(b+1),o.decoder,m)),h&&t.interpretNumericEntities&&"iso-8859-1"===m&&(h=i(h)),h&&t.comma&&h.indexOf(",")>-1&&(h=h.split(",")),a.call(l,g)?l[g]=n.combine(l[g],h):l[g]=h}return l},u=function(e,t,r){for(var n=t,a=e.length-1;a>=0;--a){var o,i=e[a];if("[]"===i&&r.parseArrays)o=[].concat(n);else{o=r.plainObjects?Object.create(null):{};var s="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,c=parseInt(s,10);r.parseArrays||""!==s?!isNaN(c)&&i!==s&&String(c)===s&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=n):o[s]=n:o={0:n}}n=o}return n},d=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,s=o.exec(n),c=s?n.slice(0,s.index):n,l=[];if(c){if(!r.plainObjects&&a.call(Object.prototype,c)&&!r.allowPrototypes)return;l.push(c)}var d=0;while(null!==(s=i.exec(n))&&d<r.depth){if(d+=1,!r.plainObjects&&a.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+n.slice(s.index)+"]"),u(l,t,r)}},p=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?o.charset:e.charset;return{allowDots:"undefined"===typeof e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:o.comma,decoder:"function"===typeof e.decoder?e.decoder:o.decoder,delimiter:"string"===typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"===typeof e.depth?e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}};e.exports=function(e,t){var r=p(t);if(""===e||null===e||"undefined"===typeof e)return r.plainObjects?Object.create(null):{};for(var a="string"===typeof e?l(e,r):e,o=r.plainObjects?Object.create(null):{},i=Object.keys(a),s=0;s<i.length;++s){var c=i[s],u=d(c,a[c],r);o=n.merge(o,u,r)}return n.compact(o)}},b313:function(e,t,r){"use strict";var n=String.prototype.replace,a=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,a,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},d233:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e){while(e.length>1){var t=e.pop(),r=t.obj[t.prop];if(a(r)){for(var n=[],o=0;o<r.length;++o)"undefined"!==typeof r[o]&&n.push(r[o]);t.obj[t.prop]=n}}},s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)"undefined"!==typeof e[n]&&(r[n]=e[n]);return r},c=function e(t,r,o){if(!r)return t;if("object"!==typeof r){if(a(t))t.push(r);else{if(!t||"object"!==typeof t)return[t,r];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(r);var i=t;return a(t)&&!a(r)&&(i=s(t,o)),a(t)&&a(r)?(r.forEach((function(r,a){if(n.call(t,a)){var i=t[a];i&&"object"===typeof i&&r&&"object"===typeof r?t[a]=e(i,r,o):t.push(r)}else t[a]=r})),t):Object.keys(r).reduce((function(t,a){var i=r[a];return n.call(t,a)?t[a]=e(t[a],i,o):t[a]=i,t}),i)},l=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},u=function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(a){return n}},d=function(e,t,r){if(0===e.length)return e;var n="string"===typeof e?e:String(e);if("iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var a="",i=0;i<n.length;++i){var s=n.charCodeAt(i);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?a+=n.charAt(i):s<128?a+=o[s]:s<2048?a+=o[192|s>>6]+o[128|63&s]:s<55296||s>=57344?a+=o[224|s>>12]+o[128|s>>6&63]+o[128|63&s]:(i+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(i)),a+=o[240|s>>18]+o[128|s>>12&63]+o[128|s>>6&63]+o[128|63&s])}return a},p=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var a=t[n],o=a.obj[a.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];"object"===typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:o,prop:l}),r.push(u))}return i(t),e},f=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},m=function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},g=function(e,t){return[].concat(e,t)};e.exports={arrayToObject:s,assign:l,combine:g,compact:p,decode:u,encode:d,isBuffer:m,isRegExp:f,merge:c}},ee13:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pad_5"},[r("div",{staticClass:"query_fields"},[r("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm,size:"mini"}},[r("el-form-item",{attrs:{label:"机构名称",prop:"agentName"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入机构名称"},model:{value:e.queryForm.agentName,callback:function(t){e.$set(e.queryForm,"agentName",t)},expression:"queryForm.agentName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收益周期",prop:"profitTime"}},[r("el-date-picker",{staticClass:"wid_140",attrs:{type:"month","value-format":"yyyy-MM",placeholder:"请选收益周期"},model:{value:e.queryForm.profitTime,callback:function(t){e.$set(e.queryForm,"profitTime",t)},expression:"queryForm.profitTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"审核状态",prop:"check_status"}},[r("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择收益状态"},model:{value:e.queryForm.check_status,callback:function(t){e.$set(e.queryForm,"check_status",t)},expression:"queryForm.check_status"}},e._l(e.queryForm.check_statuss,(function(e,t){return r("el-option",{key:t,attrs:{label:e.txt,value:e.id}})})),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"出账状态",prop:"revenue_status"}},[r("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择出账状态"},model:{value:e.queryForm.revenue_status,callback:function(t){e.$set(e.queryForm,"revenue_status",t)},expression:"queryForm.revenue_status"}},e._l(e.queryForm.revenue_statuss,(function(e,t){return r("el-option",{key:t,attrs:{label:e.txt,value:e.id}})})),1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.queryData}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.resetData("queryForm")}}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handle_refresh}},[e._v("刷新")]),e._v(" "),4!=e.roleId&&5!=e.roleId?r("el-button",{attrs:{type:"success",size:"mini"},on:{click:e.exportAccount}},[e._v("导出出账")]):e._e()],1)],1)],1),e._v(" "),r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"agentName",label:"机构名称",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"virtualMonthTotal",label:"贝壳收益(元)",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"accountMonthTotal",label:"出行收益(元)",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"totalAmont",label:"总收益(元)",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"month",label:"收益周期",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"审核状态",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.check_status?r("span",[e._v("待审核")]):2==t.row.check_status?r("span",[e._v("通过")]):3==t.row.check_status?r("span",[e._v("拒绝")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"出账状态",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.revenue_status?r("span",[e._v("待开票")]):2==t.row.revenue_status?r("span",[e._v("已开票")]):3==t.row.revenue_status?r("span",[e._v("待发放")]):4==t.row.revenue_status?r("span",[e._v("已发放")]):5==t.row.revenue_status?r("span",[e._v("财务拒绝")]):6==t.row.revenue_status?r("span",[e._v("数据错误")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"操作",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.view_upload(t.row)}}},[e._v("查看发票")]),e._v(" "),4!=e.roleId&&5!=e.roleId&&1!=e.roleId&&2==t.row.check_status&&4!=t.row.revenue_status?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.handle_exportAccount(t.row)}}},[e._v("出账")]):e._e()]}}])})],1),e._v(" "),r("div",{staticClass:"block mar_t10"},[r("el-pagination",{attrs:{"current-page":e.currentPage,total:e.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.invoice_loading,expression:"invoice_loading"}],attrs:{title:"上传发票",visible:e.add_dialog,width:"30%",center:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(t){e.add_dialog=t}}},[r("div",{staticClass:"wid_b75"},[r("el-upload",{ref:"uploadRef",attrs:{action:"#","http-request":e.handleUpload,"before-upload":e.beforeInvoiceUpload,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-exceed":e.limitTip,limit:1}},[r("i",{staticClass:"el-icon-plus"})]),e._v(" "),r("el-dialog",{staticClass:"invoiceimg_wrap",attrs:{title:"查看发票",visible:e.invoiceDialogVisible,"append-to-body":"",center:"",top:"10vh"},on:{"update:visible":function(t){e.invoiceDialogVisible=t}}},[r("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.add_dialog=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.saveData}},[e._v("确 定")])],1)]),e._v(" "),r("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.view_loading,expression:"view_loading"}],attrs:{title:"查看发票",visible:e.view_dialog,width:"30%",center:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(t){e.view_dialog=t}}},[r("img",{attrs:{width:"100%",src:e.viewImageUrl,alt:""}}),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){e.view_dialog=!1}}},[e._v("取 消")])],1)])],1)},a=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("7f7f"),r("ade3")),i=r("2f62"),s=r("cf45"),c=(r("4328"),r("bc3a"),r("3438")),l=r.n(c);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={name:"agentAccountRecord",data:function(){return{roleId:"",cos:"",Bucket:"",Region:"",tableLoading:!1,view_loading:!1,tableData:[],invoice_loading:!1,invoiceDialogVisible:!1,queryForm:{agentName:"",profitTime:"",check_statuss:[{id:1,txt:"待审核"},{id:2,txt:"通过"},{id:3,txt:"拒绝"}],check_status:"",revenue_statuss:[{id:1,txt:"待开票"},{id:2,txt:"已开票"},{id:3,txt:"待发放"},{id:4,txt:"已发放"},{id:5,txt:"财务拒绝"},{id:6,txt:"数据错误"}],revenue_status:""},pageTotal:0,currentPage:1,add_dialog:!1,view_dialog:!1,dialogImageUrl:"",viewImageUrl:"",agent_accountid:"",_key:""}},created:function(){this.roleId=this.$store.getters.roleId,console.log(this.roleId),this.getCOSParam(),this.getTableDataList(1)},computed:d({},Object(i["b"])(["name","roles"])),methods:{getCOSParam:function(){var e=this;this.$http.post("".concat(s["a"].baseUrl,"/agentAccount/getCosKey")).then((function(t){if("0000"==t.data.code){var r=t.data.data.liveList;e.cos=new l.a({AppId:r.Appid,SecretId:r.SecretId,SecretKey:r.SecretKey}),e.Bucket=r.Bucket,e.Region=r.Region}})).catch((function(e){console.log(e)}))},getTableDataList:function(e){var t=this,r={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,pageNum:e,pageSize:10,month:this.queryForm.profitTime,agentName:this.queryForm.agentName,check_status:this.queryForm.check_status,revenue_status:this.queryForm.revenue_status}};this.tableLoading=!0,this.$http.post("".concat(s["a"].baseUrl,"/agentAccount/getAgentAccountRecord"),r).then((function(e){"0000"==e.data.code&&(t.tableData=e.data.data.agentAccountList,t.pageTotal=e.data.data.page.pageTotal,t.tableLoading=!1)})).catch((function(e){}))},queryData:function(){this.getTableDataList(1),this.currentPage=1},handle_exportAccount:function(e){var t=this;console.log(e),this.$confirm("是否出账?","出账",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",size:"mini",center:!0}).then((function(){var r={data:{agent_accountid:e.agent_accountid,revenue_status:4}};t.$http.post("".concat(s["a"].baseUrl,"/agentAccount/confirmPayment"),r).then((function(e){"0000"==e.data.code?(t.m_message(e.data.msg,"success"),t.handle_refresh()):t.m_message(e.data.msg,"warning")})).catch((function(e){}))}))},handle_refresh:function(){this.getTableDataList(this.currentPage)},beforeInvoiceUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;if(!t)return this.m_message("只能上传图片","warning"),!1},handleUpload:function(e){var t=this,r=e.file;if(r){var n=r.name,a=(r.size,r.type,(new Date).getTime(),"InvoiceImg/"+(new Date).getTime()+n);this._key=a,t.invoice_loading=!0,t.cos.sliceUploadFile({Bucket:t.Bucket,Region:t.Region,Key:a,Body:r,onProgress:function(e){console.log(e)}},(function(e,r){200==r.statusCode&&(t.invoice_loading=!1)}))}},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.invoiceDialogVisible=!0},handleRemove:function(e,t){console.log(e,t)},limitTip:function(){this.m_message("只能上传一张","warning")},handle_upload:function(e){this.dialogImageUrl="",this.add_dialog=!0,this.agent_accountid=e.agent_accountid},saveData:function(){var e=this,t={data:{agent_accountid:this.agent_accountid+"",invoice_url:"/"+this._key}};this.invoice_loading=!0,this.$http.post("".concat(s["a"].baseUrl,"/agentAccount/uploadInvoice"),t).then((function(t){"0000"==t.data.code&&(e.invoice_loading=!1,e.add_dialog=!1,e.m_message(t.data.msg,"success"),e.$refs.uploadRef.clearFiles(),e.getTableDataList(1))})).catch((function(e){}))},view_upload:function(e){var t=this,r={data:{agent_accountid:e.agent_accountid+""}};this.viewImageUrl="",this.view_dialog=!0,this.view_loading=!0,this.$http.post("".concat(s["a"].baseUrl,"/agentAccount/checkInvoices"),r).then((function(e){"0000"==e.data.code&&(t.viewImageUrl=e.data.data.agentAccount.invoice_url,t.view_loading=!1)})).catch((function(e){}))},exportAccount:function(){var e={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,month:this.queryForm.profitTime,agentName:this.queryForm.agentName,check_status:this.queryForm.check_status,revenue_status:this.queryForm.revenue_status}};window.location.href="\n      ".concat(s["a"].baseUrl,"/agentAccount/exportAgentAccount?\n      signInUserId=").concat(e.data.signInUserId,"&\n      signInRoleId=").concat(e.data.signInRoleId,"&\n      agentName=").concat(e.data.agentName,"&\n      month=").concat(e.data.month,"&\n      revenue_status=").concat(e.data.revenue_status,"\n      ")},uploadAccount:function(){},changeOption_reviewState:function(e){},changeOption_exportAccount:function(e){},handleCurrentChange:function(e){this.currentPage=e,this.getTableDataList(e)},resetData:function(e){this.$refs[e].resetFields()},m_message:function(e,t){this.$message({message:e,type:t})}}},f=p,m=(r("0b84"),r("7884"),r("2877")),g=Object(m["a"])(f,n,a,!1,null,"c7e13ab4",null);t["default"]=g.exports}}]);