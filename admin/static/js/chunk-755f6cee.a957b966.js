(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-755f6cee"],{"0c3a":function(e,t,a){"use strict";a.r(t);var o,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pad_5"},[a("div",{staticClass:"query_fields pad_b_no handle_timerange"},[a("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm,size:"mini"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goodsName","label-width":"68px"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"商品名称"},model:{value:e.queryForm.goodsName,callback:function(t){e.$set(e.queryForm,"goodsName",t)},expression:"queryForm.goodsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品状态",prop:"goodStatus","label-width":"68px"}},[a("el-select",{staticClass:"wid_140",attrs:{placeholder:"选择商品状态"},model:{value:e.queryForm.goodStatus,callback:function(t){e.$set(e.queryForm,"goodStatus",t)},expression:"queryForm.goodStatus"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"可用",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"不可用",value:"0"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.queryData}},[e._v("\n          查询\n        ")]),e._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.resetData("queryForm")}}},[e._v("\n          重置\n        ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handle_refresh}},[e._v("\n          刷新\n        ")])],1)],1)],1),e._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"商品规格",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"商品库存",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"商品价格",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.price/100)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"商品原价",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.src_price/100)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_desc",label:"商品描述",width:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.goods_status?a("span",[e._v("不可用")]):e._e(),e._v(" "),1==t.row.goods_status?a("span",[e._v("可用")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time","show-overflow-tooltip":"",label:"创建时间",width:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handle_detail(t.row)}}},[e._v("\n            详情\n          ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.initEdit(t.row)}}},[e._v("\n            编辑\n          ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handle_ms(t.row)}}},[e._v("\n            开启秒杀\n          ")]),e._v(" "),0==t.row.goods_status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handle_frozen(t.row)}}},[e._v("\n            可用\n          ")]):e._e(),e._v(" "),1==t.row.goods_status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handle_frozen(t.row)}}},[e._v("\n            不可用\n          ")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handle_detail(t.row)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"block mar_t10"},[a("el-pagination",{attrs:{"current-page":e.currentPage,total:e.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.add_loading,expression:"add_loading"}],staticClass:"addUsers_dialog",attrs:{title:"商品详情",visible:e.dialogCreate,width:"60%",center:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(t){e.dialogCreate=t}}},[a("div",{staticClass:"dialogBody_addPermission"},[a("div",{staticClass:"grid-content bg-purple-dark pad_t2"},[a("el-form",{staticClass:"demo-form-inline valid_form",attrs:{inline:!0,model:e.detailForm,tip:"0px","label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{staticClass:"wid_140",attrs:{disabled:!0,placeholder:""},model:{value:e.detailForm.goods_name,callback:function(t){e.$set(e.detailForm,"goods_name",t)},expression:"detailForm.goods_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品权重"}},[a("el-input",{staticClass:"wid_140",attrs:{disabled:!0,placeholder:""},model:{value:e.detailForm.goods_order,callback:function(t){e.$set(e.detailForm,"goods_order",t)},expression:"detailForm.goods_order"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品LOGO"}},[a("img",{attrs:{src:e.detailForm.goods_img,alt:""}})]),e._v(" "),a("el-form-item",{attrs:{label:"商品原产地"}},[a("el-input",{staticClass:"wid_140",attrs:{disabled:!0,placeholder:""},model:{value:e.detailForm.made_place,callback:function(t){e.$set(e.detailForm,"made_place",t)},expression:"detailForm.made_place"}})],1),e._v(" "),a("el-form-item",{staticClass:"wid_parent",attrs:{label:"商品价格"}},[a("el-input",{staticClass:"wid_140",attrs:{disabled:!0,placeholder:""},model:{value:e.detailForm.price,callback:function(t){e.$set(e.detailForm,"price",t)},expression:"detailForm.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品库存"}},[a("el-input",{staticClass:"wid_140",attrs:{disabled:!0,placeholder:""},model:{value:e.detailForm.stock,callback:function(t){e.$set(e.detailForm,"stock",t)},expression:"detailForm.stock"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品原价"}},[a("el-input",{staticClass:"wid_140",attrs:{disabled:!0,placeholder:""},model:{value:e.detailForm.src_price,callback:function(t){e.$set(e.detailForm,"src_price",t)},expression:"detailForm.src_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品供应商"}},[a("el-input",{staticClass:"wid_140",attrs:{disabled:!0,placeholder:""},model:{value:e.detailForm.supplier,callback:function(t){e.$set(e.detailForm,"supplier",t)},expression:"detailForm.supplier"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品banner"}},[e.detailForm.bannerList.length>0?a("div",e._l(e.detailForm.bannerList,(function(e,t){return a("img",{key:t,attrs:{src:e.url,alt:""}})})),0):e._e()]),e._v(" "),a("el-form-item",{attrs:{label:"商品详情图"}},[e.detailForm.detailList.length>0?a("div",e._l(e.detailForm.detailList,(function(e,t){return a("img",{key:t,attrs:{src:e.url,alt:""}})})),0):e._e()]),e._v(" "),a("el-form-item",{attrs:{label:"商品总销量"}},[a("el-input",{staticClass:"wid_140",attrs:{disabled:!0,placeholder:""},model:{value:e.detailForm.total_count,callback:function(t){e.$set(e.detailForm,"total_count",t)},expression:"detailForm.total_count"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品规格"}},[a("el-input",{staticClass:"wid_140",attrs:{disabled:!0,placeholder:""},model:{value:e.detailForm.typeid,callback:function(t){e.$set(e.detailForm,"typeid",t)},expression:"detailForm.typeid"}})],1)],1)],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){e.dialogCreate=!1}}},[e._v("\n        关 闭\n      ")])],1)]),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.edit_loading,expression:"edit_loading"}],staticClass:"addUsers_dialog edit_dialog",attrs:{title:"商品编辑",visible:e.dialogEdit,top:"0vh",width:"60%",center:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(t){e.dialogEdit=t}}},[a("div",{staticClass:"dialogBody_addPermission"},[a("div",{staticClass:"grid-content bg-purple-dark pad_t2"},[a("el-form",{ref:"editForm",staticClass:"demo-form-inline valid_form",attrs:{inline:!0,model:e.editForm,rules:e.editRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:""},model:{value:e.editForm.goods_name,callback:function(t){e.$set(e.editForm,"goods_name",t)},expression:"editForm.goods_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品类别",prop:"typeid"}},[a("el-select",{attrs:{placeholder:"请选择商品类别"},model:{value:e.editForm.typeid,callback:function(t){e.$set(e.editForm,"typeid",t)},expression:"editForm.typeid"}},e._l(e.goodsTypes,(function(e){return a("el-option",{key:e.typeid,attrs:{label:e.type_name,value:e.typeid}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商品权重",prop:"goods_order"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:""},model:{value:e.editForm.goods_order,callback:function(t){e.$set(e.editForm,"goods_order",t)},expression:"editForm.goods_order"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品原产地",prop:"made_place"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:""},model:{value:e.editForm.made_place,callback:function(t){e.$set(e.editForm,"made_place",t)},expression:"editForm.made_place"}})],1),e._v(" "),a("el-form-item",{staticClass:"wid_parent",attrs:{label:"商品价格",prop:"price"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:""},model:{value:e.editForm.price,callback:function(t){e.$set(e.editForm,"price",t)},expression:"editForm.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品库存",prop:"stock"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:""},model:{value:e.editForm.stock,callback:function(t){e.$set(e.editForm,"stock",t)},expression:"editForm.stock"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品原价",prop:"src_price"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:""},model:{value:e.editForm.src_price,callback:function(t){e.$set(e.editForm,"src_price",t)},expression:"editForm.src_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品供应商",prop:"supplier"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:""},model:{value:e.editForm.supplier,callback:function(t){e.$set(e.editForm,"supplier",t)},expression:"editForm.supplier"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品描述",prop:"goods_desc"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.editForm.goods_desc,callback:function(t){e.$set(e.editForm,"goods_desc",t)},expression:"editForm.goods_desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品总销量",prop:"total_count"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:""},model:{value:e.editForm.total_count,callback:function(t){e.$set(e.editForm,"total_count",t)},expression:"editForm.total_count"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品规格",prop:"unit"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:""},model:{value:e.editForm.unit,callback:function(t){e.$set(e.editForm,"unit",t)},expression:"editForm.unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品推荐",prop:"recommend"}},[a("el-select",{attrs:{placeholder:"是否推荐"},model:{value:e.editForm.recommend,callback:function(t){e.$set(e.editForm,"recommend",t)},expression:"editForm.recommend"}},[a("el-option",{attrs:{label:"推荐",value:1}}),e._v(" "),a("el-option",{attrs:{label:"不推荐",value:0}})],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("商品LOGO")]),e._v(" "),a("el-upload",{attrs:{action:"","auto-upload":!0,accept:"jpg,jpeg,png,PNG","list-type":"picture-card","file-list":e.files1,"before-upload":e.beforeUpload1,"http-request":e.handlePost1,"on-change":e.changeImage1,"on-remove":e.handleRemove1}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "),a("div",{attrs:{slot:"tip"},slot:"tip"},[e._v("\n              最多可上传1张jpg/png图片，并且每张图片大小不超过500kb\n            ")])]),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("商品Banner")]),e._v(" "),a("el-upload",{attrs:{action:"","auto-upload":!0,accept:"jpg,jpeg,png,PNG","list-type":"picture-card","file-list":e.files2,"before-upload":e.beforeUpload2,"http-request":e.handlePost2,"on-change":e.changeImage2,"on-remove":e.handleRemove2}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "),a("div",{attrs:{slot:"tip"},slot:"tip"},[e._v("\n              最多可上传5张jpg/png图片，并且每张图片大小不超过500kb\n            ")])]),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("商品详情图")]),e._v(" "),a("el-upload",{attrs:{action:"","auto-upload":!0,accept:"jpg,jpeg,png,PNG","list-type":"picture-card","file-list":e.files3,"before-upload":e.beforeUpload3,"http-request":e.handlePost3,"on-change":e.changeImage3,"on-remove":e.handleRemove3}},[a("i",{staticClass:"el-icon-plus"}),e._v(" "),a("div",{attrs:{slot:"tip"},slot:"tip"},[e._v("\n              最多可上传5张jpg/png图片，并且每张图片大小不超过500kb\n            ")])])],1)],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){e.dialogEdit=!1}}},[e._v("\n        关 闭\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.editGoods("editForm")}}},[e._v("\n        提 交\n      ")])],1)]),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.MS_loading,expression:"MS_loading"}],staticClass:"MS_dialog",attrs:{title:"开启秒杀",visible:e.dialogMS,width:"50%",center:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(t){e.dialogMS=t}}},[a("div",{staticClass:"dialogBody_addPermission"},[a("div",{staticClass:"grid-content bg-purple-dark pad_t2"},[a("el-form",{ref:"MSForm",staticClass:"demo-form-inline valid_form",attrs:{inline:!0,model:e.MSForm,rules:e.MSRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"goods_name"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"",disabled:""},model:{value:e.MSForm.goods_name,callback:function(t){e.$set(e.MSForm,"goods_name",t)},expression:"MSForm.goods_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开启秒杀",prop:"goods_active_status"}},[a("el-select",{staticClass:"wid_140",attrs:{placeholder:"是否开启秒杀"},model:{value:e.MSForm.goods_active_status,callback:function(t){e.$set(e.MSForm,"goods_active_status",t)},expression:"MSForm.goods_active_status"}},[a("el-option",{attrs:{label:"开启",value:"1"}},[e._v("开启")]),e._v(" "),a("el-option",{attrs:{label:"关闭",value:"0"}},[e._v("关闭")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"ms_time",attrs:{label:"秒杀时间范围","label-width":"128px",prop:"times"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"秒杀开始时间","end-placeholder":"秒杀结束时间"},on:{change:e.changeTimes},model:{value:e.MSForm.times,callback:function(t){e.$set(e.MSForm,"times",t)},expression:"MSForm.times"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"秒杀价格",prop:"active_price"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入秒杀价格"},model:{value:e.MSForm.active_price,callback:function(t){e.$set(e.MSForm,"active_price",t)},expression:"MSForm.active_price"}})],1)],1)],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(t){e.dialogMS=!1}}},[e._v("\n        关 闭\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.setMS("MSForm")}}},[e._v("\n        提 交\n      ")])],1)])],1)},s=[],l=(a("ac6a"),a("96cf"),a("1da1")),r=a("ade3"),n=a("cf45"),d=a("61f7"),c=a("fc37"),m={name:"SearchGoods",data:function(){var e,t,a=function(e,t,a){Object(d["a"])(t)?a():a(new Error("请输入大于0的整数"))},o=function(e,t,a){var o=/(^[1-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/;o.test(t)?a():a(new Error("最多两位小数"))};return t={tableLoading:!1,tableData:[],pageTotal:100,currentPage:1,queryForm:{goodsName:"",goodStatus:""},goodsTypes:"",dialogCreate:!1,add_loading:!1,detailForm:{detailList:[],bannerList:[],goods_desc:"",goods_img:"",goods_name:"",goods_order:"",made_place:"",price:"",src_price:"",stock:"",supplier:"",total_count:"",typeid:""},dialogEdit:!1,edit_loading:!1,imgType:1,files1:[],files2:[],files3:[],editForm:(e={goodsid:"",typeid:"",goods_desc:"",goods_name:"",goods_order:"",goods_img:"",made_place:"",price:"",src_price:"",stock:"",supplier:"",total_count:""},Object(r["a"])(e,"typeid",""),Object(r["a"])(e,"unit",""),Object(r["a"])(e,"recommend",""),e),editRules:{goods_name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],typeid:[{required:!0,message:"请选择商品类型",trigger:"change"}],price:[{required:!0,validator:o,trigger:"blur"},{type:"string",message:"请输入商品单价"}],src_price:[{required:!0,validator:o,trigger:"blur"},{type:"string",message:"请输入商品原价"}],stock:[{required:!0,validator:a,trigger:"blur"},{type:"string",message:"请输入库存"}],made_place:[{required:!0,message:"请输入商品产地",trigger:"blur"}],supplier:[{required:!0,message:"请输入商品供应商",trigger:"blur"}],goods_order:[{required:!0,validator:a,trigger:"blur"},{type:"number",message:"请输入商品权重"}],unit:[{required:!0,message:"请输入商品规格",trigger:"blur"}],goods_desc:[{required:!0,message:"请填写商品描述",trigger:"blur"}],recommend:[{required:!0,message:"请选择商品推荐",trigger:"change"}]},agent_detail_dialogVisible:!1,agent_detail_loading:!1,agent_detail_form:{regions:[],cities:[],bankInfo:"",agentid:"",agent_name:"",charger:"",province_code:"",city_code:"",address:"",virtual_rate:"",account_rate:"",phone:"",email:"",contract_no:"",bank_code:"",account_user:"",account_no:"",account_regions:"",account_cities:[],account_province_code:"",account_city_code:""}},Object(r["a"])(t,"goodsTypes",[]),Object(r["a"])(t,"dialogMS",!1),Object(r["a"])(t,"MS_loading",!1),Object(r["a"])(t,"MSForm",{goods_id:"",active_price:"",goods_active_status:"1",times:"",active_starttime:"",active_endtime:""}),Object(r["a"])(t,"MSRules",{active_price:[{required:!0,validator:o,trigger:"blur"},{type:"string",message:"请输入商品秒杀价格"}],times:[{required:!0,trigger:"change"},{type:"array",message:"请输入秒杀时间"}]}),t},created:function(){this.getTabelDataList(1),this.getGoodsCatogory(),this.getGoodsCatogory()},methods:(o={getGoodsCatogory:function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={},this.$http.post("".concat(n["a"].baseUrl,"/manage/goods/getGoodsType"),t).then((function(e){a.goodsTypes=e.data.data.goodsType})).catch((function(e){}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handle_ms:function(e){this.MSForm.goodsid=e.goodsid,this.MSForm.goods_name=e.goods_name,this.dialogMS=!0,this.MSForm.active_price="",this.MSForm.times=[]},changeTimes:function(e){e&&2==e.length?(this.MSForm.active_starttime=e[0],this.MSForm.active_endtime=e[1]):(this.MSForm.active_starttime="",this.MSForm.active_endtime="")},setMS:function(e){var t=this;this.$refs[e].validate((function(e){t.MS_loading=!0;var a=t.MSForm,o=a.active_endtime,i=a.active_starttime,s=a.active_price,l=a.goods_active_status,r=a.goodsid;s*=100;var d={goodsInfo:{active_endtime:o,active_starttime:i,active_price:s,goods_active_status:l,goodsid:r}};t.$http.post("".concat(n["a"].baseUrl,"/manage/goods/editGoodsInfo"),d).then((function(e){e=e.data,"0000"===e.code?(t.$message.success("成功开启秒杀"),t.MS_loading=!1,t.handle_refresh(),t.dialogMS=!1):(t.$message.error(e.msg),t.MS_loading=!1)})).catch((function(e){}))}))},initEdit:function(e){var t=this,a={goodsid:e.goodsid};this.editForm.goodsid=e.goodsid;this.dialogEdit=!0,this.edit_loading=!0,this.$http.post("".concat(n["a"].baseUrl,"/manage/goods/getGoodsDetail"),a).then((function(e){if("0000"==e.data.code){var a=e.data.data.goodsDetail;if(!a)return void(t.edit_loading=!1);var o=a.goods_img.slice(a.goods_img.lastIndexOf("/")+1);t.files1=[{name:o,url:"".concat(n["a"].baseUrl).concat(a.goods_img)}],t.editForm.goods_img=a.goods_img,t.editForm.goods_name=a.goods_name,t.editForm.goods_desc=a.goods_desc,t.editForm.goods_order=a.goods_order,t.editForm.made_place=a.made_place,t.editForm.price=a.price/100+"",t.editForm.src_price=a.src_price/100+"",t.editForm.stock=a.stock+"",t.editForm.supplier=a.supplier,t.editForm.total_count=a.total_count,t.editForm.typeid=a.typeid,t.editForm.unit=a.unit,t.editForm.recommend=a.recommend,t.files2=a.bannerArray.map((function(e){return e.name=e.file_url.slice(e.file_url.lastIndexOf("/")+1),e.url="".concat(n["a"].baseUrl).concat(e.file_url),e})),t.files3=a.detailArray.map((function(e){return e.name=e.file_url.slice(e.file_url.lastIndexOf("/")+1),e.url="".concat(n["a"].baseUrl).concat(e.file_url),e})),t.edit_loading=!1}else t.edit_loading=!1,t.m_message(e.data.msg,"error")})).catch((function(e){}))},editGoods:function(e){var t=this;return this.files2.length?this.files2.length?(this.files2.forEach((function(e){var a={goodsFile:{goods_file_unionid:e.goods_file_unionid?e.goods_file_unionid:"",goodsid:t.editForm.goodsid,fileid:e.fileid,file_url:e.file_url,goods_file_type:e.goods_file_type}};t.$http.post("".concat(n["a"].baseUrl,"/manage/goods/editGoodsImg"),a).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})),this.files3.forEach((function(e){var a={goodsFile:{goods_file_unionid:e.goods_file_unionid?e.goods_file_unionid:"",goodsid:t.editForm.goodsid,fileid:e.fileid,file_url:e.file_url,goods_file_type:e.goods_file_type}};t.$http.post("".concat(n["a"].baseUrl,"/manage/goods/editGoodsImg"),a).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})),void this.$refs[e].validate((function(e){if(!t.editForm.goods_img)return t.$message.error("商品LOGO必传");var a=t.editForm,o=a.goods_name,i=a.goods_img,s=a.price,l=a.src_price,r=a.total_count,d=a.stock,c=a.made_place,m=a.supplier,g=a.goods_order,u=a.unit,p=a.typeid,_=a.goods_desc,f=a.recommend;s*=100,l*=100;var v=t.editForm.goodsid,h={goodsid:v,goods_name:o,price:s,src_price:l,total_count:r,stock:d,made_place:c,supplier:m,goods_order:g,unit:u,goods_desc:_,typeid:p,recommend:f,goods_img:i},b={goodsInfo:h};t.edit_loading=!0,t.$http.post("".concat(n["a"].baseUrl,"/manage/goods/editGoodsInfo"),b).then((function(e){e=e.data,"0000"===e.code?(t.$message.success(e.msg),t.edit_loading=!1,t.handle_refresh(),t.dialogEdit=!1):(t.$message.error(e.msg),t.edit_loading=!1)})).catch((function(e){}))}))):(this.$message.error("详情图必须有"),void(this.edit_loading=!1)):(this.$message.error("banner图必须有"),void(this.edit_loading=!1))},initGoods:function(){},handlePost1:function(e){var t=this,a=new FormData,o=e.file;a.append("file",o);var i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(c["a"])(a).then((function(e){e=e.data,"0000"===e.code&&(t.editForm.goods_img=e.data.fileUrl,t.$message.success(e.msg),i.close())}))},handleRemove1:function(e,t){this.files1=t,this.editForm.goods_img=""},changeImage1:function(e,t){this.filesLOGO=t},beforeUpload1:function(e){this.filesLOGO.length>1&&this.$message.error("最多1张");var t=e.size/1024<500;return t||this.$message.error("图片不超过500K"),t&&this.filesLOGO.length<=1},handlePost2:function(e){var t=this;console.log("content",e);var a=new FormData,o=e.file;a.append("file",o);var i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(c["a"])(a).then((function(e){e=e.data,"0000"===e.code&&(t.files2.push({name:e.data.fileUrl.slice(e.data.fileUrl.lastIndexOf("/")+1),url:"".concat(n["a"].baseUrl).concat(e.data.fileUrl),fileid:e.data.fileid,file_url:e.data.fileUrl,goods_file_type:2,imgTitle:t.imgTitle,previewUrl:e.data.previewUrl,uid:o.uid}),t.$message.success(e.msg),i.close())}))},handleRemove2:function(e,t){this.files2=t},changeImage2:function(e,t){},beforeUpload2:function(e){this.files2.length>5&&this.$message.error("最多5张");var t=e.size/1024<500;return t||this.$message.error("图片不超过500K"),t&&this.files2.length<=5},handlePost3:function(e){var t=this,a=new FormData,o=e.file;a.append("file",o);var i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(c["a"])(a).then((function(e){e=e.data,"0000"===e.code&&(t.files3.push({name:e.data.fileUrl.slice(e.data.fileUrl.lastIndexOf("/")+1),url:"".concat(n["a"].baseUrl).concat(e.data.fileUrl),fileid:e.data.fileid,file_url:e.data.fileUrl,goods_file_type:3,imgTitle:t.imgTitle,previewUrl:e.data.previewUrl,uid:o.uid}),t.$message.success(e.msg),i.close())}))},handleRemove3:function(e,t){this.files3=t},changeImage3:function(e,t){},beforeUpload3:function(e){this.files3.length>5&&this.$message.error("最多5张");var t=e.size/1024<500;return t||this.$message.error("图片不超过500K"),t&&this.files3.length<=5}},Object(r["a"])(o,"getGoodsCatogory",function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={},this.$http.post("".concat(n["a"].baseUrl,"/manage/goods/getGoodsType"),t).then((function(e){a.goodsTypes=e.data.data.goodsType})).catch((function(e){}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()),Object(r["a"])(o,"getTabelDataList",(function(e){var t=this,a={goodsName:this.queryForm.goodsName,goodStatus:this.queryForm.goodStatus,page_num:e,page_count:10};this.tableLoading=!0,this.$http.post("".concat(n["a"].baseUrl,"/manage/goods/searchGoodsInfo"),a).then((function(e){"0000"==e.data.code&&(t.tableData=e.data.data.goodsList,t.pageTotal=e.data.page.page_total,t.tableLoading=!1)})).catch((function(e){}))})),Object(r["a"])(o,"handle_detail",(function(e){var t=this,a={goodsid:e.goodsid};this.dialogCreate=!0,this.add_loading=!0,this.$http.post("".concat(n["a"].baseUrl,"/manage/goods/getGoodsDetail"),a).then((function(e){if("0000"==e.data.code){var a=e.data.data.goodsDetail;t.detailForm.goods_name=a.goods_name,t.detailForm.goods_order=a.goods_order,t.detailForm.made_place=a.made_place,t.detailForm.price=a.price/100,t.detailForm.src_price=a.src_price/100,t.detailForm.stock=a.stock,t.detailForm.supplier=a.supplier,t.detailForm.total_count=a.total_count,t.detailForm.typeid=a.typeid,t.detailForm.unit=a.unit,t.detailForm.goods_img=n["a"].baseUrl+a.goods_img,t.detailForm.bannerList=a.bannerList.map((function(e){return e.url=n["a"].baseUrl+e.url,e})),t.detailForm.detailList=a.detailList.map((function(e){return e.url=n["a"].baseUrl+e.url,e})),t.add_loading=!1}else t.add_loading=!1,t.m_message(e.data.msg,"error")})).catch((function(e){}))})),Object(r["a"])(o,"handle_frozen",(function(e){var t=this,a="",o="",i="";1==e.goods_status?(a=0,o="禁用",i="是否冻将该商品设置为不可用?"):(a=1,o="可用",i="是否将该商品设置为可用?"),this.$confirm(i,o,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",size:"mini",center:!0}).then((function(){var o={goodsInfo:{goods_status:a,goodsid:e.goodsid}};t.$http.post("".concat(n["a"].baseUrl,"/manage/goods/editGoodsInfo"),o).then((function(e){"0000"==e.data.code?(t.m_message(e.data.msg,"success"),t.handle_refresh()):t.m_message(e.data.msg,"warning")})).catch((function(e){}))}))})),Object(r["a"])(o,"handle_agent_name",(function(e){var t=this,a={data:{agentid:e.city_agentid}};this.agent_detail_dialogVisible=!0,this.agent_detail_loading=!0,this.$http.post("".concat(n["a"].baseUrl,"/agent/selectAgentInfo"),a).then((function(e){if("0000"==e.data.code){var a=e.data.data.agentInfo;t.agent_detail_form.agentid=a.agentid,t.agent_detail_form.agent_name=a.agent_name,t.agent_detail_form.charger=a.charger,t.agent_detail_form.address=a.address,t.agent_detail_form.phone=a.phone,t.agent_detail_form.email=a.email,t.agent_detail_form.bank_code=a.bank_code,t.agent_detail_form.account_user=a.account_user,t.agent_detail_form.account_no=a.account_no,t.queryBankCity(a.account_province,"agent_detail_form"),t.agent_detail_form.account_province_code=a.account_pro_code,t.agent_detail_form.account_city_code=a.account_city_code,t.agent_detail_loading=!1}else t.agent_detail_loading=!1,t.m_message(e.data.msg,"error")})).catch((function(e){}))})),Object(r["a"])(o,"handle_refresh",(function(){this.getTabelDataList(this.currentPage)})),Object(r["a"])(o,"queryData",(function(){this.getTabelDataList(1),this.currentPage=1})),Object(r["a"])(o,"resetData",(function(e){this.$refs[e].resetFields()})),Object(r["a"])(o,"handleCurrentChange",(function(e){this.currentPage=e,this.getTabelDataList(e)})),Object(r["a"])(o,"m_message",(function(e,t){this.$message({message:e,type:t})})),o)},g=m,u=(a("4d31"),a("2877")),p=Object(u["a"])(g,i,s,!1,null,"7a1b7110",null);t["default"]=p.exports},"4d31":function(e,t,a){"use strict";var o=a("c83d"),i=a.n(o);i.a},c83d:function(e,t,a){},fc37:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a("bc3a"),i=a.n(o),s=a("cf45");function l(e){return new Promise((function(t,a){i.a.post("".concat(s["a"].baseUrl,"/api/utils/fileUpload"),e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}}}]);